var CharacterMovementControl=pc.createScript("characterMovementControl");CharacterMovementControl.prototype.initialize=function(){this.playerHealth=100,this.onGround=!0,this.isJumping=!1,this.isWalking=!1,this.enemydetected=!1,this.isAttacked=!1;this.groundCheckRay=new pc.Vec3(0,-1,0),this.rayEnd=new pc.Vec3,this.playerAttackCheckRay=new pc.Vec3(1,0,0),this.rayEnd2=new pc.Vec3,this.offset=new pc.Vec3(2,0,0),this.app.on("startingGame",(()=>{this.isAttacked=!0})),this.app.on("startingGame2",(()=>{this.isAttacked=!1})),this.app.on("restorePlayerHealth",(()=>{this.app.fire("playerRevived"),this.playerHealth=100,this.isAttacked=!1,console.log("Player HP Restored",this.playerHealth)})),this.app.on("Endgame",(()=>{this.isAttacked=!0})),this.app.on("playerdamagedShortAswang",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),console.log("Player damaged event received"),this.playerHealth-=5,this.app.fire("playerHealthUpdated",this.playerHealth),console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-1e3,500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedShortSigbin",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),console.log("Player damaged event received"),this.playerHealth-=8,this.app.fire("playerHealthUpdated",this.playerHealth),console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-1e3,500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedShortManananggal",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),console.log("Player damaged event received"),this.playerHealth-=10,this.app.fire("playerHealthUpdated",this.playerHealth),console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-1e3,500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedLongManananggal",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.playerHealth-=10,console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-500,1500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedShortTikbalang",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),console.log("Player damaged event received"),this.playerHealth-=15,this.app.fire("playerHealthUpdated",this.playerHealth),console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-1e3,500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedLongTikbalang",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.playerHealth-=15,console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-500,1500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedShortKapre",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),console.log("Player damaged event received"),this.playerHealth-=20,this.app.fire("playerHealthUpdated",this.playerHealth),console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-1e3,500,0),setTimeout((()=>{this.isAttacked=!1}),500)})),this.app.on("playerdamagedLongKapre",(()=>{this.isAttacked=!0,this.entity.sprite.play("Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.playerHealth-=20,console.log(this.playerHealth),this.entity.rigidbody.applyImpulse(-500,1500,0),setTimeout((()=>{this.isAttacked=!1}),500)}))},CharacterMovementControl.prototype.update=function(t){let e=1;this.playerHealth<=0&&(this.app.fire("PlayerLost"),this.isAttacked=!0),this.app.keyboard.isPressed(pc.KEY_A)&&!this.isAttacked&&(this.isWalking=!0,this.entity.sprite.play("Walking_Animation"),this.entity.rigidbody.applyForce(-800,0,0),this.onGround||this.entity.sprite.play("Jump_Animation")),this.app.keyboard.isPressed(pc.KEY_D)&&!this.isAttacked&&(this.isWalking=!0,this.entity.sprite.play("Walking_Animation"),this.entity.rigidbody.applyForce(800,0,0),this.onGround||this.entity.sprite.play("Jump_Animation")),this.app.keyboard.isPressed(pc.KEY_A)||this.app.keyboard.isPressed(pc.KEY_D)||(this.isWalking=!1),this.app.keyboard.wasPressed(pc.KEY_SPACE)&&this.onGround&&!this.isAttacked&&(this.entity.rigidbody.applyImpulse(0,1e3,0),this.entity.sprite.play("Jump_Animation"),this.entity.sound.play("Jump_Sound"),this.isJumping=!0,this.onGround=!1),this.onGround||this.isAttacked||this.entity.sprite.play("Jump_Animation"),this.isWalking||!this.onGround||this.isAttacked||this.entity.sprite.play("Idle_Animation");var i=this.entity.getPosition();this.rayEnd.add2(i,this.groundCheckRay);var a=this.app.systems.rigidbody.raycastFirst(i,this.rayEnd);this.onGround=a,this.app.keyboard.isPressed(pc.KEY_J)&&!this.isAttacked&&(this.entity.sprite.play("AttackTest_Animation"),this.entity.sound.play("Swing_"+e),e=e%2+1),this.app.keyboard.wasPressed(pc.KEY_J)&&this.enemydetected&&(this.app.fire("enemyDamaged"),console.log("Enemy damaged event fired!"),this.enemydetected=!1),this.app.keyboard.isPressed(pc.KEY_K);var s=this.entity.getPosition().clone().add(this.offset);this.rayEnd2.add2(i,this.playerAttackCheckRay);var p=this.app.systems.rigidbody.raycastFirst(s,this.rayEnd2);this.enemydetected=p,this.app.keyboard.wasPressed(pc.KEY_T)&&this.entity.rigidbody.applyImpulse(-1e3,500,0),this.app.keyboard.wasPressed(pc.KEY_Y)&&this.entity.rigidbody.applyImpulse(-500,1500,0)};var AswangScript=pc.createScript("aswangScript");AswangScript.prototype.initialize=function(){this.isAttacking=!1,this.playerDead=!1,this.enemyAlive=!0,this.playerdetectedShort=!1,this.playerdetectedLong=!1,this.rayLengthShort=new pc.Vec3(-1,0,0),this.rayEndShort=new pc.Vec3,this.rayLengthLong=new pc.Vec3(-12.5,0,0),this.rayEndLong=new pc.Vec3,this.offset=new pc.Vec3(-.5,0,0),this.offset2=new pc.Vec3(-.5,-.5,0),this.enemyHealth=100,this.inIdle=!0;this.app.on("startingGame",(()=>{this.playerDead=!0})),this.app.on("startingGame2",(()=>{this.playerDead=!1})),this.app.on("PlayerLost",(()=>{this.playerDead=!0})),this.app.on("restoreEnemyHealth",(()=>{this.playerDead=!1,this.enemyHealth=100,console.log("Enemy HP Restored",this.enemyHealth)})),this.app.on("enemyDamaged",(()=>{this.enemyAlive&&(this.inIdle=!1,this.entity.sprite.play("Aswang_Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.entity.sound.play("Aswang_Growl"),console.log("Enemy damaged event received"),setTimeout((()=>{this.inIdle=!0,this.enemyHealth-=10,console.log(this.enemyHealth)}),500))})),this.enemyAttackCooldown=5,this.enemyCooldownTimer=5},AswangScript.prototype.update=function(t){this.enemyHealth<=0&&(this.inIdle=!1,this.enemyAlive=!1,this.entity.destroy(),this.app.fire("Enemy1Lost")),this.inIdle&&!this.isAttacking&&this.entity.sprite.play("Aswang_Idle_Animation"),this.playerDead||(this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=1&&this.app.fire("incomingAttackShort"),this.enemyCooldownTimer<=0&&(this.enemyCooldownTimer=this.enemyAttackCooldown,this.isAttacking=!0,console.log("Enemy has attacked!"),this.entity.sprite.play("Aswang_Attack_Animation"),this.entity.sound.play("Aswang_Growl"),setTimeout((()=>{this.isAttacking=!1}),750),this.playerdetectedShort&&(this.app.fire("playerdamagedShortAswang"),this.playerdetectedShort=!1)));var e=this.entity.getPosition().clone().add(this.offset);this.rayEndShort.add2(e,this.rayLengthShort);var i=this.app.systems.rigidbody.raycastFirst(e,this.rayEndShort);this.playerdetectedShort=i};var HealthBar=pc.createScript("healthBar");HealthBar.attributes.add("healthImage",{type:"entity"}),HealthBar.attributes.add("healthImageMaxWidth",{type:"number"}),HealthBar.prototype.initialize=function(){this.imageRect=this.healthImage.element.rect.clone(),this.setHealth(100)},HealthBar.prototype.setHealth=function(t){t=pc.math.clamp(t,0,100)/100,this.health=t;var e=pc.math.lerp(0,this.healthImageMaxWidth,t);this.healthImage.element.width=e,this.imageRect.copy(this.healthImage.element.rect),this.imageRect.z=t,this.healthImage.element.rect=this.imageRect},HealthBar.prototype.update=function(t){this.app.on("playerHealthUpdated",(function(t){this.setHealth=t,console.log("sethealth",this.sethealth),console.log("health",this.health)}))};var TikbalangScript=pc.createScript("tikbalangScript");TikbalangScript.prototype.initialize=function(){this.isAttacking=!1,this.playerDead=!1,this.enemyAlive=!0,this.playerdetectedShort=!1,this.playerdetectedLong=!1,this.rayLengthShort=new pc.Vec3(-1,0,0),this.rayEndShort=new pc.Vec3,this.rayLengthLong=new pc.Vec3(-12.5,0,0),this.rayEndLong=new pc.Vec3,this.offset=new pc.Vec3(-.5,-.5,0),this.offset2=new pc.Vec3(-.5,-1.5,0),this.enemyHealth=100,this.inIdle=!0;this.app.on("PlayerLost",(()=>{this.playerDead=!0})),this.app.on("restoreEnemyHealth",(()=>{this.playerDead=!1,this.enemyHealth=100,console.log("Enemy HP Restored",this.enemyHealth)})),this.app.on("enemyDamaged",(()=>{this.enemyAlive&&(this.inIdle=!1,this.entity.sprite.play("Tikbalang_Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.entity.sound.play("Tikbalang_Growl"),console.log("Enemy damaged event received"),setTimeout((()=>{this.inIdle=!0,this.enemyHealth-=3,console.log(this.enemyHealth)}),500))})),this.enemyAttackCooldown=5,this.enemyCooldownTimer=5,this.enemyAttackCooldown2=8,this.enemyCooldownTimer2=8},TikbalangScript.prototype.update=function(t){this.enemyHealth<=0&&(this.inIdle=!1,this.enemyAlive=!1,this.entity.destroy(),this.app.fire("Enemy4Lost")),this.inIdle&&!this.isAttacking&&this.entity.sprite.play("Tikbalang_Idle_Animation"),this.playerDead||(this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=1&&this.app.fire("incomingAttackShort"),this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=0&&(this.enemyCooldownTimer=this.enemyAttackCooldown,this.isAttacking=!0,console.log("Enemy has attacked!"),this.entity.sprite.play("Tikbalang_Attack_Animation"),this.entity.sound.play("Tikbalang_Growl"),setTimeout((()=>{this.isAttacking=!1}),500),this.playerdetectedShort&&(this.app.fire("playerdamagedShortTikbalang"),this.playerdetectedShort=!1)),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=1&&this.app.fire("incomingAttackLong"),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=0&&(this.enemyCooldownTimer2=this.enemyAttackCooldown2,this.isAttacking=!0,console.log("Enemy has attacked2!"),this.entity.sprite.play("Tikbalang_Attack_Animation"),this.app.fire("aoeAttacking"),this.entity.sound.play("Tikbalang_Growl"),setTimeout((()=>{this.isAttacking=!1}),500),this.playerdetectedLong&&(this.app.fire("playerdamagedLongTikbalang"),this.playerdetectedLong=!1)));var e=this.entity.getPosition().clone().add(this.offset);this.rayEndShort.add2(e,this.rayLengthShort);var i=this.app.systems.rigidbody.raycastFirst(e,this.rayEndShort);this.playerdetectedShort=i;var n=this.entity.getPosition().clone().add(this.offset2);this.rayEndLong.add2(n,this.rayLengthLong);var a=this.app.systems.rigidbody.raycastFirst(n,this.rayEndLong);this.playerdetectedLong=a};var ManananggalScript=pc.createScript("manananggalScript");ManananggalScript.prototype.initialize=function(){this.isAttacking=!1,this.playerDead=!1,this.enemyAlive=!0,this.playerdetectedShort=!1,this.playerdetectedLong=!1,this.rayLengthShort=new pc.Vec3(-1,0,0),this.rayEndShort=new pc.Vec3,this.rayLengthLong=new pc.Vec3(-12.5,0,0),this.rayEndLong=new pc.Vec3,this.offset=new pc.Vec3(-.5,0,0),this.offset2=new pc.Vec3(-.5,-1,0),this.enemyHealth=100,this.inIdle=!0;this.app.on("PlayerLost",(()=>{this.playerDead=!0})),this.app.on("restoreEnemyHealth",(()=>{this.playerDead=!1,this.enemyHealth=100,console.log("Enemy HP Restored",this.enemyHealth)})),this.app.on("enemyDamaged",(()=>{this.enemyAlive&&(this.inIdle=!1,this.entity.sprite.play("Manananggal_Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.entity.sound.play("Manananggal_Growl"),console.log("Enemy damaged event received"),setTimeout((()=>{this.inIdle=!0,this.enemyHealth-=5,console.log(this.enemyHealth)}),500))})),this.enemyAttackCooldown=5,this.enemyCooldownTimer=5,this.enemyAttackCooldown2=7,this.enemyCooldownTimer2=7},ManananggalScript.prototype.update=function(t){this.enemyHealth<=0&&(this.inIdle=!1,this.enemyAlive=!1,this.entity.destroy(),this.app.fire("Enemy3Lost")),this.inIdle&&!this.isAttacking&&this.entity.sprite.play("Manananggal_Idle_Animation"),this.playerDead||(this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=1&&this.app.fire("incomingAttackShort"),this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=0&&(this.enemyCooldownTimer=this.enemyAttackCooldown,this.isAttacking=!0,console.log("Enemy has attacked!"),this.entity.sprite.play("Manananggal_Melee_Attack_Animation"),this.entity.sound.play("Manananggal_Growl"),setTimeout((()=>{this.isAttacking=!1}),750),this.playerdetectedShort&&(this.app.fire("playerdamagedShortManananggal"),this.playerdetectedShort=!1)),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=1&&this.app.fire("incomingAttackLong"),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=0&&(this.enemyCooldownTimer2=this.enemyAttackCooldown2,this.isAttacking=!0,console.log("Enemy has attacked2!"),this.entity.sprite.play("Manananggal_Ranged_Attack_Animation"),this.app.fire("aoeAttacking"),setTimeout((()=>{this.isAttacking=!1}),500),this.playerdetectedLong&&(this.app.fire("playerdamagedLongManananggal"),this.playerdetectedLong=!1)));var e=this.entity.getPosition().clone().add(this.offset);this.rayEndShort.add2(e,this.rayLengthShort);var i=this.app.systems.rigidbody.raycastFirst(e,this.rayEndShort);this.playerdetectedShort=i;var n=this.entity.getPosition().clone().add(this.offset2);this.rayEndLong.add2(n,this.rayLengthLong);var a=this.app.systems.rigidbody.raycastFirst(n,this.rayEndLong);this.playerdetectedLong=a};var SigbinScript=pc.createScript("sigbinScript");SigbinScript.prototype.initialize=function(){this.isAttacking=!1,this.playerDead=!1,this.enemyAlive=!0,this.playerdetectedShort=!1,this.playerdetectedLong=!1,this.rayLengthShort=new pc.Vec3(-1,0,0),this.rayEndShort=new pc.Vec3,this.rayLengthLong=new pc.Vec3(-12.5,0,0),this.rayEndLong=new pc.Vec3,this.offset=new pc.Vec3(-.5,0,0),this.offset2=new pc.Vec3(-.5,-.5,0),this.enemyHealth=100,this.inIdle=!0;this.app.on("PlayerLost",(()=>{this.playerDead=!0})),this.app.on("restoreEnemyHealth",(()=>{this.playerDead=!1,this.enemyHealth=100,console.log("Enemy HP Restored",this.enemyHealth)})),this.app.on("enemyDamaged",(()=>{this.enemyAlive&&(this.inIdle=!1,this.entity.sprite.play("Sigbin_Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.entity.sound.play("Sigbin_Growl"),console.log("Enemy damaged event received"),setTimeout((()=>{this.inIdle=!0,this.enemyHealth-=7,console.log(this.enemyHealth)}),500))})),this.enemyAttackCooldown=4,this.enemyCooldownTimer=4},SigbinScript.prototype.update=function(t){this.enemyHealth<=0&&(this.inIdle=!1,this.enemyAlive=!1,this.entity.destroy(),this.app.fire("Enemy2Lost")),this.inIdle&&!this.isAttacking&&this.entity.sprite.play("Sigbin_Idle_Animation"),this.playerDead||(this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=1&&this.app.fire("incomingAttackShort"),this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=0&&(this.enemyCooldownTimer=this.enemyAttackCooldown,this.isAttacking=!0,console.log("Enemy has attacked!"),this.entity.sprite.play("Sigbin_Attack_Animation"),this.entity.sound.play("Sigbin_Growl"),setTimeout((()=>{this.isAttacking=!1}),750),this.playerdetectedShort&&(this.app.fire("playerdamagedShortSigbin"),this.playerdetectedShort=!1)));var e=this.entity.getPosition().clone().add(this.offset);this.rayEndShort.add2(e,this.rayLengthShort);var i=this.app.systems.rigidbody.raycastFirst(e,this.rayEndShort);this.playerdetectedShort=i};var AlertScript=pc.createScript("alertScriptShort");AlertScript.prototype.initialize=function(){this.alertOn=!0,this.app.on("incomingAttackShort",(()=>{this.alertOn=!1,this.entity.enabled=!0,this.entity.sound.play("Warning_SFX"),setTimeout((()=>{this.alertOn=!0}),1e3)}))},AlertScript.prototype.update=function(t){this.alertOn&&(this.entity.enabled=!1)};var AlertScript=pc.createScript("alertScriptLong");AlertScript.prototype.initialize=function(){this.alertOn=!0,this.app.on("incomingAttackLong",(()=>{this.alertOn=!1,this.entity.enabled=!0,this.entity.sound.play("Warning_SFX"),setTimeout((()=>{this.alertOn=!0,this.entity.sound.stop("Warning_SFX")}),1e3)}))},AlertScript.prototype.update=function(t){this.alertOn&&(this.entity.enabled=!1)};var RetryButtonScript=pc.createScript("retryButtonScript");RetryButtonScript.prototype.initialize=function(){this.app.root.findByName("Retry Screen").enabled=!1,this.app.on("PlayerLost",(()=>{this.app.root.findByName("Retry Screen").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},RetryButtonScript.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Retry Screen");this.app.fire("restorePlayerHealth"),this.app.fire("restoreEnemyHealth"),t.enabled=!1};var Victory1Script=pc.createScript("victory1Script");Victory1Script.prototype.initialize=function(){this.app.root.findByName("Level 1 Victory").enabled=!1,this.app.on("Enemy1Lost",(()=>{this.app.root.findByName("Level 1 Victory").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Victory1Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Level 1 Victory");this.app.fire("restorePlayerHealth"),this.app.fire("Level1Cleared"),t.enabled=!1};var Level1Script=pc.createScript("level1Script");Level1Script.prototype.initialize=function(){this.app.on("Level2Start",(()=>{this.app.root.findByName("Level 1 Aswang").enabled=!1,this.app.root.findByName("Level 2 Sigbin").enabled=!0}))},Level1Script.prototype.update=function(e){};var Level2Script=pc.createScript("level2Script");Level2Script.prototype.initialize=function(){this.app.root.findByName("Level 2 Sigbin").enabled=!1,this.app.on("Level3Start",(()=>{this.app.root.findByName("Level 2 Sigbin").enabled=!1,this.app.root.findByName("Level 3 Manananggal").enabled=!0}))},Level2Script.prototype.update=function(e){};var Level3Script=pc.createScript("level3Script");Level3Script.prototype.initialize=function(){this.app.root.findByName("Level 3 Manananggal").enabled=!1,this.app.on("Level4Start",(()=>{this.app.root.findByName("Level 3 Manananggal").enabled=!1,this.app.root.findByName("Level 4 Tikbalang").enabled=!0}))},Level3Script.prototype.update=function(e){};var Level4Script=pc.createScript("level4Script");Level4Script.prototype.initialize=function(){this.app.root.findByName("Level 4 Tikbalang").enabled=!1,this.app.on("Level5Start",(()=>{this.app.root.findByName("Level 4 Tikbalang").enabled=!1,this.app.root.findByName("Level 5 Kapre").enabled=!0}))},Level4Script.prototype.update=function(e){};var KapreScript=pc.createScript("kapreScript");KapreScript.prototype.initialize=function(){this.isAttacking=!1,this.playerDead=!1,this.enemyAlive=!0,this.playerdetectedShort=!1,this.playerdetectedLong=!1,this.rayLengthShort=new pc.Vec3(-1,0,0),this.rayEndShort=new pc.Vec3,this.rayLengthLong=new pc.Vec3(-12.5,0,0),this.rayEndLong=new pc.Vec3,this.offset=new pc.Vec3(-1.2,-1,0),this.offset2=new pc.Vec3(-.5,-2,0),this.enemyHealth=100,this.inIdle=!0;this.app.on("PlayerLost",(()=>{this.playerDead=!0})),this.app.on("restoreEnemyHealth",(()=>{this.playerDead=!1,this.enemyHealth=100,console.log("Enemy HP Restored",this.enemyHealth)})),this.app.on("enemyDamaged",(()=>{this.enemyAlive&&(this.inIdle=!1,this.entity.sprite.play("Kapre_Hurt_Animation"),this.entity.sound.play("Hurt_Sound"),this.entity.sound.play("Kapre_Growl"),console.log("Enemy damaged event received"),setTimeout((()=>{this.inIdle=!0,this.enemyHealth-=2,console.log(this.enemyHealth)}),500))})),this.enemyAttackCooldown=6,this.enemyCooldownTimer=6,this.enemyAttackCooldown2=9,this.enemyCooldownTimer2=9},KapreScript.prototype.update=function(t){this.enemyHealth<=0&&(this.inIdle=!1,this.enemyAlive=!1,this.entity.destroy(),this.app.fire("Enemy5Lost")),this.inIdle&&!this.isAttacking&&this.entity.sprite.play("Kapre_Idle_Animation"),this.playerDead||(this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=1&&this.app.fire("incomingAttackShort"),this.enemyCooldownTimer-=t,this.enemyCooldownTimer<=0&&(this.enemyCooldownTimer=this.enemyAttackCooldown,this.isAttacking=!0,console.log("Enemy has attacked!"),this.entity.sprite.play("Kapre_Attack_Animation"),this.entity.sound.play("Kapre_Growl"),setTimeout((()=>{this.isAttacking=!1}),500),this.playerdetectedShort&&(this.app.fire("playerdamagedShortKapre"),this.playerdetectedShort=!1)),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=1&&this.app.fire("incomingAttackLong"),this.enemyCooldownTimer2-=t,this.enemyCooldownTimer2<=0&&(this.enemyCooldownTimer2=this.enemyAttackCooldown2,this.isAttacking=!0,console.log("Enemy has attacked2!"),this.entity.sprite.play("Kapre_Attack_Animation"),this.app.fire("aoeAttacking"),this.entity.sound.play("Kapre_Growl"),setTimeout((()=>{this.isAttacking=!1}),500),this.playerdetectedLong&&(this.app.fire("playerdamagedLongKapre"),this.playerdetectedLong=!1)));var e=this.entity.getPosition().clone().add(this.offset);this.rayEndShort.add2(e,this.rayLengthShort);var i=this.app.systems.rigidbody.raycastFirst(e,this.rayEndShort);this.playerdetectedShort=i;var n=this.entity.getPosition().clone().add(this.offset2);this.rayEndLong.add2(n,this.rayLengthLong);var o=this.app.systems.rigidbody.raycastFirst(n,this.rayEndLong);this.playerdetectedLong=o};var Level5Script=pc.createScript("level5Script");Level5Script.prototype.initialize=function(){this.app.root.findByName("Level 5 Kapre").enabled=!1,this.app.on("Endgame",(()=>{this.app.root.findByName("Endgame Screen").enabled=!0}))},Level5Script.prototype.update=function(e){};var Victory2Script=pc.createScript("victory2Script");Victory2Script.prototype.initialize=function(){this.app.root.findByName("Level 2 Victory").enabled=!1,this.app.on("Enemy2Lost",(()=>{this.app.root.findByName("Level 2 Victory").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Victory2Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Level 2 Victory");this.app.fire("restorePlayerHealth"),this.app.fire("Level2Cleared"),t.enabled=!1};var Victory3Script=pc.createScript("victory3Script");Victory3Script.prototype.initialize=function(){this.app.root.findByName("Level 3 Victory").enabled=!1,this.app.on("Enemy3Lost",(()=>{this.app.root.findByName("Level 3 Victory").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Victory3Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Level 3 Victory");this.app.fire("restorePlayerHealth"),this.app.fire("Level3Cleared"),t.enabled=!1};var Victory4Script=pc.createScript("victory4Script");Victory4Script.prototype.initialize=function(){this.app.root.findByName("Level 4 Victory").enabled=!1,this.app.on("Enemy4Lost",(()=>{this.app.root.findByName("Level 4 Victory").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Victory4Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Level 4 Victory");this.app.fire("restorePlayerHealth"),this.app.fire("Level4Cleared"),t.enabled=!1};var Victory5Script=pc.createScript("victory5Script");Victory5Script.prototype.initialize=function(){this.app.root.findByName("Level 5 Victory").enabled=!1,this.app.on("Enemy5Lost",(()=>{this.app.root.findByName("Level 5 Victory").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Victory5Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Level 5 Victory");this.app.fire("restorePlayerHealth"),this.app.fire("Level5Cleared"),this.app.fire("Endgame"),t.enabled=!1};var EndgameScript=pc.createScript("endgameScript");EndgameScript.prototype.initialize=function(){this.app.root.findByName("Endgame Screen").enabled=!1,this.app.on("Endgame",(()=>{this.app.root.findByName("Endgame Screen").enabled=!0}))},EndgameScript.prototype.onButtonClicked=function(){};var AoeScript=pc.createScript("aoeScript");AoeScript.prototype.initialize=function(){this.aoeOff=!0,this.app.on("aoeAttacking",(()=>{this.aoeOff=!1,this.entity.enabled=!0,setTimeout((()=>{this.aoeOff=!0}),1e3)}))},AoeScript.prototype.update=function(t){this.aoeOff&&(this.entity.enabled=!1)};var Arnis1Script=pc.createScript("arnis1Script");Arnis1Script.prototype.initialize=function(){this.app.root.findByName("ArnisFact1").enabled=!1,this.app.on("Level1Cleared",(()=>{this.app.root.findByName("ArnisFact1").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Arnis1Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("ArnisFact1");this.app.fire("Level2Start"),t.enabled=!1};var Arnis2Script=pc.createScript("arnis2Script");Arnis2Script.prototype.initialize=function(){this.app.root.findByName("ArnisFact2").enabled=!1,this.app.on("Level2Cleared",(()=>{this.app.root.findByName("ArnisFact2").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Arnis2Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("ArnisFact2");this.app.fire("Level3Start"),t.enabled=!1};var Arnis3Script=pc.createScript("arnis3Script");Arnis3Script.prototype.initialize=function(){this.app.root.findByName("ArnisFact3").enabled=!1,this.app.on("Level3Cleared",(()=>{this.app.root.findByName("ArnisFact3").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Arnis3Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("ArnisFact3");this.app.fire("Level4Start"),t.enabled=!1};var Arnis4Script=pc.createScript("arnis4Script");Arnis4Script.prototype.initialize=function(){this.app.root.findByName("ArnisFact4").enabled=!1,this.app.on("Level4Cleared",(()=>{this.app.root.findByName("ArnisFact4").enabled=!0})),this.entity.element.on("click",this.onButtonClicked,this)},Arnis4Script.prototype.onButtonClicked=function(){var t=this.app.root.findByName("ArnisFact4");this.app.fire("Level5Start"),t.enabled=!1};var StartgameScript=pc.createScript("startgameScript");StartgameScript.prototype.initialize=function(){this.app.fire("startingGame"),this.app.root.findByName("Start Screen").enabled=!0,this.entity.element.on("click",this.onButtonClicked,this)},StartgameScript.prototype.onButtonClicked=function(){var t=this.app.root.findByName("Start Screen");this.app.fire("startingGame2"),t.enabled=!1};var MusicScript=pc.createScript("musicScript");MusicScript.prototype.initialize=function(){this.app.on("startingGame",(()=>{this.entity.sound.play("Jungle")})),this.app.on("Level4Start",(()=>{this.entity.sound.stop("Jungle"),this.entity.sound.play("Mountain")})),this.app.on("Endgame",(()=>{this.entity.sound.stop("Mountain"),this.entity.sound.play("Victory")}))},MusicScript.prototype.update=function(t){};var TutorialScript=pc.createScript("tutorialScript");TutorialScript.prototype.initialize=function(){this.app.on("Enemy1Lost",(()=>{this.app.root.findByName("Tutorial Screen").enabled=!1}))},TutorialScript.prototype.update=function(t){};